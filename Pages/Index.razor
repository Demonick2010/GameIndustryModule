@page "/"
@*Урок 10 (1), (2) --------------------------------*@
@page "/index"
@*--------------------------------------------*@
@inject IRepository repository

@*Урок 17.2.1 Вызываем новый компонент Typeahead*@
<Typeahead OnSearchHandler="SearchHandler" OnPlaceholder="Start type here game name ..." >
    <ResultTemplate>
        @context
    </ResultTemplate>
</Typeahead>

<GameList ListOfItems="GameItemList" />

@code {
    List<Game> GameItemList;

    protected override async Task OnInitializedAsync()
    {
        //await Task.Delay(5000);
        GameItemList = repository.GetAllGames();
    }

    // Урок 17.2.2 создаём тестовый метод
    async Task<IEnumerable<string>> SearchHandler(string searchText)
    {
        await Task.Delay(2000);

        if (searchText.Equals("test"))
            return Enumerable.Empty<string>();

        return new List<string>() { "CD Pjoject Red", "Giants Software" };
    }
}